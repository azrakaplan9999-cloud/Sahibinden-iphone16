<!-- Satın al butonunun hemen altına EKLEYİN -->
<div class="max-w-lg mx-auto my-5">
  <div id="stepperBox" class="bg-white rounded-xl shadow overflow-hidden border border-gray-200">
    <div class="flex justify-between items-center px-6 pt-6 pb-3">
      <div class="flex flex-col items-center w-1/3">
        <div class="w-8 h-8 rounded-full flex items-center justify-center font-bold text-white text-xl transition bg-blue-600" id="s1circle">1</div>
        <span class="text-xs mt-2 text-blue-700 font-semibold">Ürün</span>
      </div>
      <div class="h-1 w-1/6 bg-gray-300"></div>
      <div class="flex flex-col items-center w-1/3">
        <div class="w-8 h-8 rounded-full flex items-center justify-center font-bold text-white text-xl transition bg-gray-400" id="s2circle">2</div>
        <span class="text-xs mt-2 text-gray-600 font-semibold">Adres</span>
      </div>
      <div class="h-1 w-1/6 bg-gray-300"></div>
      <div class="flex flex-col items-center w-1/3">
        <div class="w-8 h-8 rounded-full flex items-center justify-center font-bold text-white text-xl transition bg-gray-400" id="s3circle">3</div>
        <span class="text-xs mt-2 text-gray-600 font-semibold">Ödeme</span>
      </div>
    </div>
    <!-- STEP 1: ÜRÜN -->
    <div id="step1" class="p-6">
      <h2 class="text-lg font-semibold mb-2">Ürün Bilgisi</h2>
      <div class="mb-2 flex justify-between"><span>Ürün:</span> <span class="font-semibold">Sıfır İphone 16 256GB</span></div>
      <div class="mb-2 flex justify-between"><span>Fiyat:</span> <span class="font-semibold">8.750,00 TL</span></div>
      <div class="mb-2 flex justify-between"><span>Hizmet Bedeli:</span> <span class="font-semibold">250,00 TL</span></div>
      <div class="mb-2 flex justify-between"><span>Toplam:</span> <span class="font-extrabold">9.000,00 TL</span></div>
      <button id="step1next" class="mt-5 w-full py-3 rounded bg-blue-600 text-white font-bold text-lg">Devam &rarr;</button>
    </div>
    <!-- STEP 2: ADRES -->
    <form id="step2" class="p-6 hidden space-y-2" autocomplete="off" onsubmit="return false;">
      <h2 class="text-lg font-semibold mb-2">Teslimat Bilgileriniz</h2>
      <label class="text-sm">Adınız *
        <input type="text" id="ad" name="ad" class="input mt-1 block w-full border-gray-300" required>
        <div class="text-red-500 text-xs" id="adErr"></div>
      </label>
      <label class="text-sm">Soyadınız *
        <input type="text" id="soyad" name="soyad" class="input mt-1 block w-full border-gray-300" required>
        <div class="text-red-500 text-xs" id="soyadErr"></div>
      </label>
      <label class="text-sm">Telefon Numaranız *
        <input type="tel" id="telefon" name="telefon" class="input mt-1 block w-full border-gray-300" pattern="[0-9]{10,15}" required>
        <div class="text-red-500 text-xs" id="telefonErr"></div>
      </label>
      <label class="text-sm">Adres *
        <textarea id="adres" name="adres" rows="2" class="input mt-1 block w-full border-gray-300" required></textarea>
        <div class="text-red-500 text-xs" id="adresErr"></div>
      </label>
      <div class="flex gap-3 mt-4">
        <button type="button" id="step2prev" class="w-1/2 py-2 rounded bg-gray-300 text-gray-800 font-semibold">&larr; Geri</button>
        <button type="submit" id="step2next" class="w-1/2 py-2 rounded bg-blue-600 text-white font-bold">Devam &rarr;</button>
      </div>
    </form>
    <!-- STEP 3: ÖDEME -->
    <div id="step3" class="p-6 hidden">
      <h2 class="text-lg font-semibold mb-4">Ödeme Bilgilendirmesi</h2>
      <div class="mb-3"><strong>İBAN:</strong> <span id="ibanVal">TR960006400000184110155076</span>
        <button type="button" onclick="copyIbanStepper()" class="ml-3 px-2 py-1 bg-gray-200 rounded hover:bg-blue-500 hover:text-white text-xs">Kopyala</button>
      </div>
      <div class="mb-1"><strong>Hesap Sahibi:</strong> Koray Büyüktaş</div>
      <div class="mb-1"><strong>Hesap No:</strong> 0313402</div>
      <div class="mb-1"><strong>Şube Kodu:</strong> 2235</div>
      <div class="bg-yellow-100 text-yellow-900 rounded p-2 my-4 text-sm"><b>Dikkat:</b> Banka hesabımıza para yatırdıktan sonra ödeme bildirimi yapınız.</div>
      <div class="mb-2 border-t pt-3">
        <div class="flex justify-between"><span>Ürün Tutarı</span><span>8.750,00 TL</span></div>
        <div class="flex justify-between"><span>Hizmet Bedeli</span><span>250,00 TL</span></div>
        <div class="flex justify-between font-bold"><span>Toplam</span><span>9.000,00 TL</span></div>
      </div>
      <div class="flex gap-3 mt-5">
        <button type="button" id="step3prev" class="w-1/2 py-2 rounded bg-gray-300 text-gray-800 font-bold">&larr; Geri</button>
        <button type="button" onclick="alert('Ödeme bildirimi tamamlandı!')" class="w-1/2 py-2 rounded bg-green-600 text-white font-bold">Ödemeyi Tamamla</button>
      </div>
    </div>
  </div>
</div>
<script>
  // Simple Stepper Navigation
  const s1 = document.getElementById("step1");
  const s2 = document.getElementById("step2");
  const s3 = document.getElementById("step3");
  const s1c = document.getElementById("s1circle");
  const s2c = document.getElementById("s2circle");
  const s3c = document.getElementById("s3circle");
  document.getElementById("step1next").onclick = () => {
    s1.classList.add("hidden");
    s2.classList.remove("hidden");
    s1c.classList.remove("bg-blue-600"); s1c.classList.add("bg-gray-400");
    s2c.classList.remove("bg-gray-400"); s2c.classList.add("bg-blue-600");
    s3c.classList.remove("bg-blue-600"); s3c.classList.add("bg-gray-400");
  };
  document.getElementById("step2prev").onclick = () => {
    s2.classList.add("hidden");
    s1.classList.remove("hidden");
    s1c.classList.add("bg-blue-600"); s1c.classList.remove("bg-gray-400");
    s2c.classList.add("bg-gray-400"); s2c.classList.remove("bg-blue-600");
  };
  document.getElementById("step2next").onclick = function (ev) {
    ev.preventDefault();
    let err = false;
    let ad = document.getElementById("ad").value.trim();
    let soyad = document.getElementById("soyad").value.trim();
    let telefon = document.getElementById("telefon").value.trim();
    let adres = document.getElementById("adres").value.trim();
    document.getElementById("adErr").innerText = ""; document.getElementById("soyadErr").innerText = ""; document.getElementById("telefonErr").innerText = ""; document.getElementById("adresErr").innerText = "";
    if (!ad) { document.getElementById("adErr").innerText = "Adınızı giriniz"; err = true; }
    if (!soyad) { document.getElementById("soyadErr").innerText = "Soyadınızı giriniz"; err = true; }
    if (!telefon) { document.getElementById("telefonErr").innerText = "Telefon giriniz"; err = true; }
    else if (!/^[0-9]{10,15}$/.test(telefon)) { document.getElementById("telefonErr").innerText = "Geçerli telefon giriniz"; err = true; }
    if (!adres) { document.getElementById("adresErr").innerText = "Adres giriniz"; err = true; }
    if (err) return false;
    s2.classList.add("hidden");
    s3.classList.remove("hidden");
    s2c.classList.remove("bg-blue-600"); s2c.classList.add("bg-gray-400");
    s3c.classList.add("bg-blue-600"); s3c.classList.remove("bg-gray-400");
    return false;
  };
  document.getElementById("step3prev").onclick = () => {
    s3.classList.add("hidden");
    s2.classList.remove("hidden");
    s2c.classList.add("bg-blue-600"); s2c.classList.remove("bg-gray-400");
    s3c.classList.remove("bg-blue-600"); s3c.classList.add("bg-gray-400");
  };
  // IBAN kopyala
  function copyIbanStepper() {
    const iban = document.getElementById("ibanVal").innerText;
    navigator.clipboard.writeText(iban);
    alert("IBAN kopyalandı!");
  }
</script>
